---
title: "scDiffCom-vignette"
author: "Cyril Lagger, Eugen Ursu"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{scDiffCom-vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Installation and dependencies

```
devtools::install_github("https://github.com/CyrilLagger/scDiffCom")
```
## Workflow

### Load libraries

```{r setup}
library(scDiffCom)
library(Seurat)
```

### Prepare a dummy Seurat object

```{r setup}
seurat_sample <- scDiffCom::seurat_sample_tms_liver
seurat_sample
```

### Run the interaction analysis 

```{r}

scdc_age <- run_interaction_analysis(
  seurat_object = seurat_sample,
  LRdb_species = "mouse",
  seurat_celltype_id = "cell_type",
  seurat_condition_id = list(column_name = "age_group", cond1_name = "YOUNG", cond2_name = "OLD"),
  iterations = 1000
)

```

### Modify the filtering parameters

### Display Volcano and ORA plots

```{r}

PlotORA(
  object = scdc_age,
  category = "KEGG_PWS",
  regulation = "DOWN",
  max_terms_show = 20
)

```

### Display Summary network


```{r}
#library(tidyverse) # temporary fix
#generate_interactive_network(
#  tms_liver_interactions,
#  "bipartite"
#)
```


### Perform over-representation analysis on new categories
